'use client'
import { useState } from 'react';

const Transformer = () => {

  const [isExpanded, setIsExpanded] = useState<boolean>(false);
  // Function to scroll smoothly to a section
  const scrollToSection = (sectionId: string) => {
    document.getElementById(sectionId)?.scrollIntoView({ behavior: 'smooth' });
  };

  return (
    <div className='relative bg-gray-300 flex'>
      {!isExpanded && (
        <button
          className={`shadow bg-gray-500/50 w-12 h-12 border rounded-r-full bg-gray-300 fixed top-1/2 left-0 transition-all ease-in-out duration-500 ${isExpanded ? 'translate-x-80 opacity-0' : ''}`}
          onClick={() => setIsExpanded(true)}
        >
          Toggle
        </button>
      )}
      <div className={`${isExpanded ? 'w-80' : 'w-0'} overflow-hidden transition-all ease-in-out duration-500`}>
      <div className={`bg-blue-400 min-h-screen w-80 h-full`}>
            <div className={`transition-all ease-in-out duration-[700ms] delay-[700ms] ${isExpanded? 'text-white/100':'text-white/0'}`}>
          {isExpanded && (
            <>
            <button onClick={() => setIsExpanded(false)} className='p-1 bg-red-300/50'>
            X
          </button>
          <h1 className='text-2xl' >Course Tools</h1>
          <h2 className='text-2xl' >Link 1</h2>
          <h2 className='text-2xl' >Link 2</h2>
          <h2 className='text-2xl' >Link 3</h2>
          <h2 className='text-2xl' >Link 4</h2>
          </>)}
          </div>
      </div>
      </div>
      <div className='w-full h-full bg-red-300/50'>
        {/* Updated Links with onClick for smooth scrolling */}
        <button className='p-1 border m-1' onClick={() => scrollToSection('section-1')}>Go Section 1</button>
        <button className='p-1 border m-1' onClick={() => scrollToSection('section-2')}>Go Section 2</button>
        <button className='p-1 border m-1' onClick={() => scrollToSection('section-3')}>Go Section 3</button>

        {/* Sections */}
        <div className='h-[50rem] bg-blue-300' id='section-1'>Section 1</div>
        <div className='h-[50rem] bg-red-300' id='section-2'>Section 2</div>
        <div className='h-[50rem] bg-green-300' id='section-3'>Section 3</div>
      </div>
    </div>
  );
};

export default Transformer;
